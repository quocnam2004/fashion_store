{% extends 'base.html' %}
{% block content %}
<div class="product-detail">
  <div class="gallery">
    <img src="{{ product.get('image', 'https://via.placeholder.com/400x400?text=No+Image') }}" 
         alt="{{ product.get('name', '') }}">
  </div>
  <div class="info">
    <h1>{{ product.get('name', '') }}</h1>
    <p class="price">{{ "{:,.0f}".format(product.get('price') | float(default=0)) }} VNƒê</p>

    <p>{{ product.get('description', 'Kh√¥ng c√≥ m√¥ t·∫£') }}</p>
    <p><strong>Danh m·ª•c:</strong> {{ product.get('category', '') | capitalize }}</p>
    <p><strong>Th∆∞∆°ng hi·ªáu:</strong> {{ product.get('brand', '') }}</p>
    <p><strong>M√†u s·∫Øc:</strong> {{ product.get('color', '') }}</p>
    <p><strong>Size:</strong> {{ product.get('size', '') }}</p>
    <form method="post" action="{{ url_for('app_routes.cart_add', pid=product.get('id')) }}">
      <label>S·ªë l∆∞·ª£ng:</label>
      <input type="number" name="qty" min="1" value="1">
      <button class="btn" type="submit">üõí Th√™m v√†o gi·ªè h√†ng</button>
    </form>
  </div>
</div>

<h3>S·∫£n ph·∫©m t∆∞∆°ng t·ª±</h3>
<div class="product-grid">
  {% for s in similar %}
  <div class="product-card">
    <a href="{{ url_for('app_routes.product_detail', pid=s.get('id')) }}">
      <img src="{{ s.get('image') }}" alt="{{ s.get('name') }}">
      <h4>{{ s.get('name') }}</h4>
      <p class="price">{{ "{:,.0f}".format(product.get('price') | float(default=0)) }} VNƒê</p>

    </a>
  </div>
  {% endfor %}
</div>
{% endblock %}
