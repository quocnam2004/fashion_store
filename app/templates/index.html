{% extends 'base.html' %}
{% block content %}
<!-- üî• Banner carousel th·ªùi trang -->
<section class="hero-carousel">
  <div class="carousel-container">

    <!-- Slide 1 -->
    <div class="carousel-slide active" style="background-image: url('https://images.pexels.com/photos/6311657/pexels-photo-6311657.jpeg');">
      <div class="carousel-overlay"></div>
      <div class="carousel-content">
        <h1>ƒê√≥n ƒë·∫ßu xu h∆∞·ªõng 2025</h1>
        <p>∆Øu ƒë√£i ƒë·∫øn <strong>50%</strong> cho b·ªô s∆∞u t·∫≠p Thu ƒê√¥ng</p>
        <a href="{{ url_for('app_routes.category', cat='unisex') }}" class="btn-hero">Mua ngay</a>
      </div>
    </div>

    <!-- Slide 2 -->
    <div class="carousel-slide" style="background-image: url('https://images.pexels.com/photos/1036623/pexels-photo-1036623.jpeg');">
      <div class="carousel-overlay"></div>
      <div class="carousel-content">
        <h1>Th·ªùi trang Unisex</h1>
        <p>ƒêa phong c√°ch ‚Äì Ph√° c√°ch gi·ªõi h·∫°n</p>
        <a href="{{ url_for('app_routes.category', cat='unisex') }}" class="btn-hero">Kh√°m ph√° ngay</a>
      </div>
    </div>

    <!-- Slide 3 -->
    <div class="carousel-slide" style="background-image: url('https://images.pexels.com/photos/5325887/pexels-photo-5325887.jpeg');">
      <div class="carousel-overlay"></div>
      <div class="carousel-content">
        <h1>B·ªô s∆∞u t·∫≠p m·ªõi</h1>
        <p>Phong c√°ch t·ªëi gi·∫£n, tinh t·∫ø & hi·ªán ƒë·∫°i</p>
        <a href="{{ url_for('app_routes.category', cat='unisex') }}" class="btn-hero">Xem b·ªô s∆∞u t·∫≠p</a>
      </div>
    </div>

    <!-- N√∫t ƒëi·ªÅu h∆∞·ªõng -->
    <div class="carousel-nav">
      <button class="prev">&#10094;</button>
      <button class="next">&#10095;</button>
    </div>

    <!-- D·∫•u ch·∫•m nh·ªè -->
    <div class="carousel-dots"></div>
  </div>
</section>



<section class="categories">
  <h2 class="section-title">Danh m·ª•c n·ªïi b·∫≠t</h2>

  <div class="category-modern">
    <a href="{{ url_for('app_routes.category', cat='male') }}" class="cat-item">
        <span>Nam</span>
    </a>

    <a href="{{ url_for('app_routes.category', cat='female') }}" class="cat-item">
        <span>N·ªØ</span>
    </a>

    <a href="{{ url_for('app_routes.category', cat='unisex') }}" class="cat-item">
        <span>Unisex</span>
    </a>
  </div>

</section>

<section>
  <h2>S·∫£n ph·∫©m n·ªïi b·∫≠t</h2>
  <div class="product-grid">
    {% for p in products %}
      <div class="product-card">
        <a href="{{ url_for('app_routes.product_detail', pid=p.get('id')) }}">
          <img src="{{ p.get('image', 'https://via.placeholder.com/400x400?text=No+Image') }}"
               alt="{{ p.get('name', '') }}">
        </a>

        <h4>{{ p.get('name') or p.get('title') or p.get('product_name') or 'Kh√¥ng c√≥ t√™n' }}</h4>


        <p class="price">{{ "{:,.0f}".format(p.get('price') | float(default=0)) }} VNƒê</p>


        <a class="btn" href="{{ url_for('app_routes.product_detail', pid=p.get('id')) }}">Xem chi ti·∫øt</a>
      </div>
    {% endfor %}
  </div>
</section>

<!-- Pagination for home -->
{% if total_pages > 1 %}
<div class="pagination">
  {% if page > 1 %}
    <a class="page-btn" href="{{ url_for('app_routes.index', page=page-1) }}">&laquo; Tr∆∞·ªõc</a>
  {% endif %}

  {% for pnum in range(1, total_pages + 1) %}
    {% if pnum == page %}
      <span class="page-btn active">{{ pnum }}</span>
    {% else %}
      <a class="page-btn" href="{{ url_for('app_routes.index', page=pnum) }}">{{ pnum }}</a>
    {% endif %}
  {% endfor %}

  {% if page < total_pages %}
    <a class="page-btn" href="{{ url_for('app_routes.index', page=page+1) }}">Sau &raquo;</a>
  {% endif %}
</div>
{% endif %}





{% endblock %}
